<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NDEX Login</title>

<!-- Bootstrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">

<style>
body {
	background-color: #ffffff;
	min-height: 100vh;
	display: flex;
}

.left-bg {
	width: 50%;
	background-image:
		url('https://ndexsystems.com/wp-content/themes/ndex/assets/images/banner-shape.png');
	background-size: cover;
	background-position: center;
}

.login-wrapper {
	width: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 60px;
}

.logo-title {
	font-size: 45px;
	font-weight: 900;
	letter-spacing: 1px;
}

.logo-x {
	color: #32c543;
}

.subtitle {
	font-size: 18px;
	margin-bottom: 30px;
	color: #555;
}

.form-control {
	background-color: #eef3ff;
}

.btn-login {
	background-color: #1bb129;
	border: none;
	padding: 10px 40px;
	font-size: 18px;
}

.btn-login:hover {
	background-color: #159a22;
}

.forgot-link {
	margin-top: 10px;
	display: block;
}
</style>

<script>
async function login() {

    let loginId = document.getElementById("loginId").value;
    let password = document.getElementById("password").value;
    const product = document.getElementById("product").value;
    const locale = document.getElementById("locale").value;
    const firmId = document.getElementById("firmId").value;
    const url = `/phoenix/${product}/${locale}/${firmId}/login`;

    const response = await fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ loginId, password })
    });

    const data = await response.json();

    if (data.authenticated) {
        window.location.href = `/phoenix/${product}/${locale}/${firmId}/activity`;
    } else {
        alert("Invalid login");
    }
}
</script>
</head>

<body>

	<!-- LEFT SIDE BACKGROUND -->
	<div class="left-bg"></div>

	<!-- LOGIN CONTENT -->
	<div class="login-wrapper">

		<div class="w-100" style="max-width: 460px;">

			<!-- LOGO -->
			<div class="mb-4 text-center">
				<span class="logo-title"> NDE<span class="logo-x">X</span>
				</span>
				<div class="text-muted">Own Your Data</div>
			</div>

			<!-- PAGE SUBTITLE -->
			<div class="subtitle text-center">F-ENGINE DEMO</div>

			<!-- FORM -->
			<form id="loginForm">

				<input type="hidden" id="locale" th:value="${locale}"> <input
					type="hidden" id="firmId" th:value="${firmId}"> <input
					type="hidden" id="product" th:value="${product}"> <label
					class="form-label">User ID</label> <input type="text"
					class="form-control mb-3" name="loginId" id="loginId"
					value="sysadmin"> <label class="form-label">Password</label>
				<div class="input-group mb-3">
					<input type="password" class="form-control" name="password"
						id="password" value="ndexsys50"> <span
						class="input-group-text"><i class="bi bi-eye"></i></span>
				</div>

				<div class="mt-4 text-end">
					<button type="button" onclick="login()"
						class="btn btn-login text-white">Login</button>
				</div>

			</form>

		</div>
	</div>

	<!-- Bootstrap Icons (for the eye icon) -->
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</body>
</html>
