<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="#{activity.add.title}">Add manual log</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <style>
        body { background-color: #f7f9fc; }
        .header-bar { background-color: #e6effa; padding: 10px 20px; border-bottom: 2px solid #d2d9e5; }
        .section-title { background-color: #e6effa; padding: 10px; border-radius: 4px; font-weight: bold; margin-top: 20px; margin-bottom: 15px; }
        .search-box { background-color: #fff; padding: 15px; border-radius: 4px; box-shadow: 0 0 5px rgba(0,0,0,.05); }
        .results-box { margin-top: 20px; }
        .table textarea.form-control { min-height: 34px; height: 34px; resize: vertical; }
    </style>
</head>

<body th:with="product=${product}, locale=${locale}, firmId=${firmId}">

<!-- TOP BAR -->
<div class="header-bar d-flex justify-content-between align-items-center">
    <div>
        <strong th:text="#{backdoor.common.back.office}">Back Office</strong>
        — <span th:text="#{backdoor.common.user.label}">User</span>:
        <span class="badge bg-secondary" th:text="${username} ?: 'System Administrator'">System Administrator</span>
        &nbsp; <span th:text="#{backdoor.common.orgunit.label}">Organization Unit</span>:
        <strong th:text="${orgUnitName} ?: 'Root Organization'">Root Organization</strong>
    </div>
    <div class="d-flex gap-2">
        <a class="btn btn-primary btn-sm"
           th:href="@{/{product}/{locale}/{firmId}/guide(product=${product},locale=${locale},firmId=${firmId})}"
           th:text="#{backdoor.common.user.guide}">USER GUIDE</a>
        <a class="btn btn-primary btn-sm"
           th:href="@{/{product}/{locale}/{firmId}/portfolio(product=${product},locale=${locale},firmId=${firmId})}"
           th:text="#{backdoor.common.portfolio.management}">PORTFOLIO MANAGEMENT</a>
    </div>
</div>

<!-- NAVIGATION TABS -->
<ul class="nav nav-tabs mt-2 px-3">
    <li class="nav-item">
        <a class="nav-link" th:href="@{/{product}/{locale}/{firmId}/activity(product=${product},locale=${locale},firmId=${firmId})}"
           th:text="#{backdoor.Activity.Log}">Activity Log</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" th:href="@{/{product}/{locale}/{firmId}/orgunit(product=${product},locale=${locale},firmId=${firmId})}"
           th:text="#{backdoor.Organization.Units}">Organization Units</a>
    </li>
    <li class="nav-item"><a class="nav-link" href="#" th:text="#{backdoor.Access.Management}">Access Management</a></li>
    <li class="nav-item"><a class="nav-link" href="#" th:text="#{backdoor.Firm.Properties}">Firm Properties</a></li>
    <li class="nav-item"><a class="nav-link" href="#" th:text="#{backdoor.Activity.Management}">Activity Management</a></li>
</ul>

<div class="container mt-4">

    <!-- TITLE -->
    <div class="section-title d-flex justify-content-between align-items-center">
        <span th:text="#{activity.add.title}">Add manual log</span>

        <a class="btn btn-secondary btn-sm"
           th:href="@{/{product}/{locale}/{firmId}/activity(product=${product},locale=${locale},firmId=${firmId})}"
           th:text="#{backdoor.back.to.list}">BACK TO LIST</a>
    </div>

    <!-- FORM -->
    <div class="search-box">
        <form method="post"
              th:action="@{/{product}/{locale}/{firmId}/activity/add(product=${product},locale=${locale},firmId=${firmId})}"
              th:object="${manualLog}">

            <table class="table table-bordered mb-2">
                <thead class="table-light">
                <tr>
                    <th style="width:140px;" th:text="#{backdoor.Activity.Date}">Activity Date</th>
                    <th style="width:160px;" th:text="#{backdoor.Importance.Level}">Importance Level</th>
                    <th style="width:220px;" th:text="#{backdoor.Activity.Type}">Activity Type</th>
                    <th style="width:140px;" th:text="#{backdoor.User.ID}">User ID</th>
                    <th th:text="#{backdoor.Description}">Description</th>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td><input type="date" class="form-control" th:field="*{activityDate}" readonly/></td>
                    <td><input type="text" class="form-control" th:field="*{importance}" readonly/></td>
                    <td><input type="text" class="form-control" th:field="*{activityType}" readonly/></td>
                    <td><input type="text" class="form-control" th:field="*{userId}" readonly/></td>

                    <td>
                        <div class="mb-2">
                            <label class="form-label mb-1" th:text="#{backdoor.English.Description}">English Description</label>
                            <textarea class="form-control" th:field="*{englishDescription}" placeholder=""></textarea>
                        </div>
                        <div>
                            <label class="form-label mb-1" th:text="#{backdoor.French.Description}">Description (Français)</label>
                            <textarea class="form-control" th:field="*{frenchDescription}" placeholder=""></textarea>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="text-end">
                <button type="submit" class="btn btn-primary btn-sm" th:text="#{backdoor.save}">SAVE</button>
            </div>
        </form>
    </div>

    <div class="results-box mt-4">
        <div class="fw-bold" th:text="#{backdoor.no.manual.logs}">No manual logs</div>
    </div>

</div>
</body>
</html>
